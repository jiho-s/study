## 1.3 네티의 핵심 컴포넌트

- `Channel`
- 콜백
- `Future`
- 이벤트와 핸들러

### 1.3.1 `Channel`

자바 NIO의 기본구조 하나 이상의 입출력 작업을 수행할 수 있는 하드웨어 장치, 파일, 네트워크 소켓, 프로그램 컴포넌트와 같은 엔티티에 대한 열린 연결

### 1.3.2 콜백

메서드로 자신에 대한 참조를 제공할 수 있는 메서드, 관심 대상에게 작업 완료를 알리는 가장 일반적인 방법 중 하나

네티는 이벤트를 처리할 때 콜백을 이용한다. 콜백이 트리거되면 `ChannelHandler` 인터페이스의 구현을 통해 이벤트를 처리한다.

### 1.3.3 Future

`Future` 은 작업이 완료되면 이를 애플리케이션에 알리는 한 방법이다. 이 객체는 비동기 작업의 결과를 담는 자리표시자 역할을 하며, 작업이 완료되면 그 결과에 접근할 수 있게 해준다.

`java.util.concurrent.Future` 은 수동으로 작업완료 여부를 확인하거나 완료되기 전까지 블로킹하는 기능만 있다.

네티는 자체 구현 `ChannelFuture` 를 제공하며 `ChannelFutureListener` 인스턴스를 하나 이상 등록할 수 있는 추가 메서드가 있다. 작업이 완료되면 리스너의 콜백 메서드인 `operationComplete()` 가 호출되며 이 시점에 리스너는 작업이 정상적으로 완료됐는지, 아니면 오류가 발생했는지 확인할 수 있다. `ChannelFutureListener` 가 제공하는 알림 메커니즘을 이용하면 작업 완료를 수동으로 검사할 필요가 없다.

네티의 모든 아웃바운드 입출력 작업은 `ChannelFuture` 를 반환하며 진행을 블로킹하는 작업이 없다. 네티는 기본적으로 비동기식이며 이벤트 기반이다.

`ChannelFutureListener` 는 더 정교한 버전의 콜백이라고 생각할 수 있다.

### 1.3.4 이벤트와 핸들러

네티는 발생한 이벤트를 기준으로 다음과 같은 동작을 트리거할 수 있다.

- 로깅
- 데이터 변환
- 흐름 제어
- 애플리케이션 논리

네티는 네트워크 프레임워크이므로 이벤트 역시 인바운드 또는 아웃바운드 데이터 흐름에 대한 연관성을 기준으로 분류된다. 인바운드 데이터나 연관된 상태 변화로 트리거되는 이벤트는 다음을 포함한다.

- 연결 활성화 또는 비활성화
- 데이터 읽기
- 사용자 이벤트
- 오류 이벤트

아웃바운드 이벤트는 다음과 같이 미래에 한 동작을 트리거하는 작업의 결과다

- 원격 피어로 연결 열기 또는 닫기
- 소켓으로 데이터 쓰기 또는 플러시

모든 이벤트는 핸들러 클래스의 사용자 구현 메서드로 전달할 수 있다.

각 핸들러 인스턴스가 특정 이벤트에 반응해 실행되는 일종의 콜백이라고 이해하면 된다.

