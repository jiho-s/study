## Z Garbage Collector

ZGC (Z Garbage Collector)는 확장 가능한 저 지연 가비지 컬렉터이다. ZGC는 10ms 이상의 시간동안 애플리케이션 스레드 실행을 중단하지 않고 모든 작업을 동시에 수행하므로 낮은 지연 시간이 필요하거나 매우 큰 힙 (수 테라 바이트)을 사용하는 애플리케이션에 적합하다.

Z Garbage Collector는 실험적 기능으로 사용할 수 있으며 `-XX:+UnlockExperimentalVMOptions -XX:+UseZGC` 명령 줄 옵션으로 활성화된다.

### 힙 크기 설정

ZGC의 가장 중요한 조정 옵션은 최대 힙 크기를 설정하는 것이다. ZGC는 동시 수집기이므로 1) 힙이 애플리케이션의 라이브 세트를 수용 할 수 있고 2) GC가 서비스되는 동안 할당을 서비스 할 수 있도록 힙에 충분한 헤드 룸이 있도록 최대 힙 크기를 선택해야한다. 달리는. 얼마나 많은 헤드 룸이 필요한지는 할당 비율과 애플리케이션의 라이브 세트 크기에 따라 다르다. 일반적으로 ZGC에 더 많은 메모리를 제공할수록 좋다. 그러나 동시에 메모리 낭비는 바람직하지 않으므로 메모리 사용량과 GC 실행 빈도 사이의 균형을 찾는 것이 중요하다.

### 동시 GC 스레드 수 설정

두 번째 튜닝 옵션은 동시 GC 스레드 수를 설정하는 것 `(-XX:ConcGCThreads)`이다. ZGC에는이 수를 자동으로 선택하는 방법을 제공한다. 이 방법은 일반적으로 잘 작동하지만 응용 프로그램의 특성에 따라 조정해야 할 수도 있다. 이 옵션은 기본적으로 GC가 제공해야하는 CPU 시간을 나타냅니다. 너무 많이 주면 GC가 애플리케이션에서 너무 많은 CPU 시간을 가져간다다. 너무 적으면 애플리케이션이 GC가 수집 할 수있는 것보다 더 빨리 가비지를 할당 할 수 있다.