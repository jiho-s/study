# Garbage Collector Implementation

## 세대별 가비지 수집

객체는 가비지로 간주되며, 실행중인 프로그램이 더 이상 참조 할 수 없으면 VM이 객체의 메모리를 재사용 할 수 있다.

가장 간단한 가비지 수집 알고리즘은 매번 실행시 참조 할 수 없는 객체의 메모리를 재사용하는 것이다. 살아 있는 객체의 수가 많아 질수록 가비지 수집이 걸리는 시간이 증가하므로 대규모 프로그램에서는 사용하면 안된다.

Java HotSpot VM은 여러개의 가비지 수집 알고리즘을 사용하는데 모든 가비지 수집 알고리즘은 세대별 수집이라는 기술을 사용한다. 

세대별 가비지 수집은 관찰 결과 알게된 몇가지 속성을 사용하여 사용되지 않는 객체 회수하는데 필요한 작업을 최소화한다. 이 중 가장 중요한 속성은 약한 세대별 가설이다.

##### 약한세대별가설

거의 대부분의 객체는 아주 짧은 시간만 살아 있는다

대부분의 객체가 단명한다는 사실에 초점을 맞추면 효율적인 수집이 가능하다.

## 세대

약한 세대별 가설을 적용하기위해 메모리는 세대로 관리된다. 가비지 수집은 각각의 세대가 가득차면 발생한다.

대부분의 객체는 young generation 전용 풀에 할당되며, 대부분의 객체는 그곳에서 죽는다. young generation 풀이 가득차면 young generation 만 수집되는 *마이너컬렉션* 이 발생한다. 마이너 컬렉션 중에 young generation에서 살아남은 몇몇 객체는 old generation으로 이동한다. old generation이 가득 차게 되면 메이저 컬렉션이 발생하게 된다.

