## 06 영속성 어댑터 구현하기

### 의존성 역전

포트는 실제로 영속성 작업을 수행하고 데이터베이스와 통실할 책임을 가진 영속성 어댑터 클래스에 의해 구현된다

### 영속성 어댑터 책임

1. 입력을 받는다
2. 입력을 데이터베이스 포멧으로 매핑한다
3. 입력을 데이터베이스로 보낸다
4. 데이터베이스 출력을 애플리케이션 포맷으로 매핑한다

입출력 모델이 영속성 어댑터가 아니라 애플리케이션 코어에 있다는 점을 제외하면 책임은 전통적인 영속성 계층의 책임과 크게 다르지 않다

### 포트 인터페이스 나누기

인터페이스 분리 원칙 클라이언트가 오로지 자신이 필요로 하는 메서드만 알면 되도록 넓은 인터페이스를 특화된 인터페이스로 분리해야 한다

### 영속성 어댑터 나누기